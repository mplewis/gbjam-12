[gd_scene load_steps=37 format=3 uid="uid://bnohktiy6tetg"]

[ext_resource type="PackedScene" uid="uid://crxje5adebltx" path="res://scenes/components/cinematic.tscn" id="1_7rn51"]
[ext_resource type="Shader" path="res://shaders/recolor.gdshader" id="1_8ldq0"]
[ext_resource type="AudioStream" uid="uid://cj70nrhhf2m4x" path="res://assets/music/endings/Good End First Pass.mp3" id="1_d6uwm"]
[ext_resource type="PackedScene" uid="uid://bp7i043fy7n2j" path="res://scenes/components/controls.tscn" id="2_uji1r"]
[ext_resource type="Texture2D" uid="uid://bms623d2h4m3q" path="res://assets/images/intro/Ending_good-Sheet.png" id="2_yhdfd"]
[ext_resource type="Texture2D" uid="uid://o0rjnu2agyio" path="res://assets/ui/white.png" id="3_6wneb"]
[ext_resource type="Texture2D" uid="uid://bwufwj80yv5w4" path="res://assets/images/intro/GOODEND.png" id="4_mf200"]

[sub_resource type="AtlasTexture" id="AtlasTexture_ons0i"]
atlas = ExtResource("2_yhdfd")
region = Rect2(0, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_jbido"]
atlas = ExtResource("2_yhdfd")
region = Rect2(160, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_bfmv7"]
atlas = ExtResource("2_yhdfd")
region = Rect2(320, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_4dn2l"]
atlas = ExtResource("2_yhdfd")
region = Rect2(480, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_a5p4t"]
atlas = ExtResource("2_yhdfd")
region = Rect2(640, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_i27yq"]
atlas = ExtResource("2_yhdfd")
region = Rect2(800, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_gvnjl"]
atlas = ExtResource("2_yhdfd")
region = Rect2(960, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_ow4p6"]
atlas = ExtResource("2_yhdfd")
region = Rect2(1120, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_m2ybe"]
atlas = ExtResource("2_yhdfd")
region = Rect2(1280, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_tfpht"]
atlas = ExtResource("2_yhdfd")
region = Rect2(1440, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_nme7w"]
atlas = ExtResource("2_yhdfd")
region = Rect2(1600, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_uhfpu"]
atlas = ExtResource("2_yhdfd")
region = Rect2(1760, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_caapt"]
atlas = ExtResource("2_yhdfd")
region = Rect2(1920, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_m8uy5"]
atlas = ExtResource("2_yhdfd")
region = Rect2(2080, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_g8pcy"]
atlas = ExtResource("2_yhdfd")
region = Rect2(2240, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_3eie7"]
atlas = ExtResource("2_yhdfd")
region = Rect2(2400, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_gmety"]
atlas = ExtResource("2_yhdfd")
region = Rect2(2560, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_krbvw"]
atlas = ExtResource("2_yhdfd")
region = Rect2(2720, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_gsavy"]
atlas = ExtResource("2_yhdfd")
region = Rect2(2880, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_34qwb"]
atlas = ExtResource("2_yhdfd")
region = Rect2(3040, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_gm0mn"]
atlas = ExtResource("2_yhdfd")
region = Rect2(3200, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_ee0od"]
atlas = ExtResource("2_yhdfd")
region = Rect2(3360, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_fqken"]
atlas = ExtResource("2_yhdfd")
region = Rect2(3520, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_q3d6d"]
atlas = ExtResource("2_yhdfd")
region = Rect2(3680, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_plvfv"]
atlas = ExtResource("2_yhdfd")
region = Rect2(3840, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_hebsd"]
atlas = ExtResource("2_yhdfd")
region = Rect2(4000, 0, 160, 144)

[sub_resource type="AtlasTexture" id="AtlasTexture_lvygw"]
atlas = ExtResource("2_yhdfd")
region = Rect2(4160, 0, 160, 144)

[sub_resource type="SpriteFrames" id="SpriteFrames_7xyro"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ons0i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jbido")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bfmv7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4dn2l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a5p4t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i27yq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gvnjl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ow4p6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m2ybe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tfpht")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nme7w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uhfpu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_caapt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m8uy5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g8pcy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3eie7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gmety")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_krbvw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gsavy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_34qwb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gm0mn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ee0od")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fqken")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q3d6d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_plvfv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hebsd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lvygw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gsavy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gsavy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_34qwb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gm0mn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ee0od")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fqken")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q3d6d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_plvfv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hebsd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lvygw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gsavy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_34qwb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gm0mn")
}],
"loop": false,
"name": &"default",
"speed": 12.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jvw7k"]
shader = ExtResource("1_8ldq0")
shader_parameter/threshold1 = 0.167
shader_parameter/threshold2 = 0.5
shader_parameter/threshold3 = 0.833
shader_parameter/color1 = Color(0.121569, 0.192157, 0.27451, 1)
shader_parameter/color2 = Color(0.972549, 0.478431, 0.431373, 1)
shader_parameter/color3 = Color(0.968627, 0.643137, 0.67451, 1)
shader_parameter/color4 = Color(0.905882, 0.905882, 0.796078, 1)

[node name="GoodEnding" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="BGM" type="AudioStreamPlayer" parent="."]
stream = ExtResource("1_d6uwm")
autoplay = true
bus = &"Music"
parameters/looping = true

[node name="Cinematic" parent="." instance=ExtResource("1_7rn51")]
layout_mode = 1

[node name="Label" type="Label" parent="Cinematic"]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "With courage intact but not without wound, our hero slips out of these desolate rooms."

[node name="Animation" type="AnimatedSprite2D" parent="Cinematic"]
position = Vector2(80, 72)
sprite_frames = SubResource("SpriteFrames_7xyro")
frame = 39
frame_progress = 1.0

[node name="Label2" type="Label" parent="Cinematic"]
visible = false
layout_mode = 0
offset_right = 627.0
offset_bottom = 23.0
text = "Body was mended, insanity prevented, but his mind, alas, wasn't truly contented."

[node name="CINE_HOLD_BEFORE" type="Label" parent="Cinematic/Label2"]
visible = false
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "3.0"

[node name="Label3" type="Label" parent="Cinematic"]
visible = false
layout_mode = 0
offset_right = 769.0
offset_bottom = 23.0
text = "He wondered, surely, there had to be more? What lay beyond those last closed doors?"

[node name="Ending" type="Control" parent="Cinematic"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="White" type="TextureRect" parent="Cinematic/Ending"]
layout_mode = 0
offset_right = 160.0
offset_bottom = 144.0
texture = ExtResource("3_6wneb")

[node name="Graffiti" type="TextureRect" parent="Cinematic/Ending"]
layout_mode = 0
offset_left = -13.0
offset_top = 14.0
offset_right = 87.0
offset_bottom = 74.0
scale = Vector2(2, 2)
texture = ExtResource("4_mf200")

[node name="Label4" type="Label" parent="Cinematic"]
visible = false
layout_mode = 0
offset_right = 769.0
offset_bottom = 23.0
text = "I know there's a secret of that house I haven't discovered... I have to go back to defeat all the monsters!
"

[node name="ThankYou" type="Label" parent="Cinematic"]
visible = false
layout_mode = 0
offset_right = 769.0
offset_bottom = 23.0
text = "(Thank you so much for playing! --The Crow and Friends team)"

[node name="RecolorLayer" type="CanvasLayer" parent="."]

[node name="RecolorShader" type="ColorRect" parent="RecolorLayer"]
material = SubResource("ShaderMaterial_jvw7k")
offset_right = 160.0
offset_bottom = 256.0

[node name="Controls" parent="." instance=ExtResource("2_uji1r")]
